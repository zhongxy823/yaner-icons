import Taro from '@tarojs/taro';
import React from 'react';
import { View } from '@tarojs/components'

import { getIconColor } from '../utils';

export interface IconFontProps {
  className?: string;
  style?: React.CSSProperties;
  size?: number;
  color?: string;
}

const IconFont: React.FC<IconFontProps> = props => {
  const { size: _size = 28, color, style, className } = props;
  const size =
    (parseFloat(Taro.pxTransform(_size)) / 750) *
    Taro.getSystemInfoSync().windowWidth;

  return (
    <View
      className={className}
      style={{
        backgroundImage: `url("data:image/svg+xml, %3Csvg viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='${size}px' height='${size}px'%3E%3Cpath d='M512 56.888889a455.111111 455.111111 0 1 1 0 910.222222A455.111111 455.111111 0 0 1 512 56.888889z m-21.504 78.961778c-11.150222 0.796444-19.911111 4.778667-24.689778 11.150222-4.778667 6.371556-6.371556 15.928889-6.371555 28.672 0 15.928889 1.592889 38.229333 3.185777 68.494222 11.150222 214.243556 17.521778 386.275556 17.521778 515.299556 0 30.264889-2.389333 50.176-6.371555 58.140444s-9.557333 12.743111-16.725334 12.743111a26.168889 26.168889 0 0 1-22.300444-10.353778 21.390222 21.390222 0 0 0-8.760889-13.539555 22.243556 22.243556 0 0 0-13.539556-3.982222c-12.743111 0-18.318222 7.168-18.318222 21.504 0 11.150222 5.575111 22.300444 18.318222 31.857777 11.946667 9.557333 30.264889 15.132444 54.954667 15.132445 57.344 0 86.812444-39.025778 86.812445-117.077333 0-96.369778-2.389333-207.872-7.168-334.506667-4.778667-127.431111-9.557333-215.836444-13.539556-265.216-1.592889-6.371556-6.371556-11.150222-15.928889-14.336a111.388444 111.388444 0 0 0-27.079111-3.982222zM358.286222 362.040889a31.857778 31.857778 0 0 0-14.336 3.185778c-12.743111 4.778667-28.672 17.521778-46.193778 39.822222-31.061333 40.618667-62.919111 93.184-95.573333 158.492444-14.336 36.636444-21.504 61.326222-21.504 74.865778 0 11.946667 3.982222 21.504 12.743111 29.468445 7.964444 9.557333 22.300444 14.336 43.804445 14.336 3.982222 0 8.760889 0 13.539555-0.796445-1.592889-6.371556-1.592889-12.743111-1.592889-17.521778 0.796444-22.300444 6.371556-46.193778 16.725334-73.272889a538.112 538.112 0 0 1 89.201777-160.881777c7.964444-10.353778 17.521778-19.114667 28.672-26.282667 3.185778-2.389333 4.778667-5.575111 4.778667-10.353778 0-1.592889-0.796444-4.778667-1.592889-7.964444a28.558222 28.558222 0 0 0-11.150222-16.725334 29.582222 29.582222 0 0 0-17.521778-6.371555z m320.967111 2.389333a24.348444 24.348444 0 0 0-23.096889 14.336c-6.371556 7.964444-9.557333 14.336-9.557333 19.911111 0 6.371556 1.592889 11.150222 6.371556 14.336 3.982222 2.389333 7.964444 4.778667 11.150222 7.168 7.964444 6.371556 16.725333 15.132444 24.689778 25.486223 31.857778 44.600889 60.529778 101.148444 85.219555 170.439111 6.371556 23.893333 10.353778 40.618667 10.353778 49.379555 0 7.964444 7.964444 13.539556 25.486222 16.725334 10.353778 0 19.114667-3.982222 27.079111-11.946667a42.097778 42.097778 0 0 0 13.539556-31.857778c0-12.743111-3.185778-29.468444-9.557333-50.176-20.707556-52.565333-43.804444-97.962667-70.883556-136.192-27.079111-36.636444-46.990222-60.529778-60.529778-71.68-11.150222-9.557333-20.707556-15.132444-30.264889-15.928889z' fill='${getIconColor(color,0,'rgb(51,51,51)')}' /%3E%3C/svg%3E")`,
        width: `${size}px`,
        height: `${size}px`,
        ...style,
      }}
    />
  );
};

export default IconFont;