import Taro from '@tarojs/taro';
import React from 'react';
import { View } from '@tarojs/components'

import { getIconColor } from '../utils';

export interface IconFontProps {
  className?: string;
  style?: React.CSSProperties;
  size?: number;
  color?: string;
}

const IconFont: React.FC<IconFontProps> = props => {
  const { size: _size = 28, color, style, className } = props;
  const size =
    (parseFloat(Taro.pxTransform(_size)) / 750) *
    Taro.getSystemInfoSync().windowWidth;

  return (
    <View
      className={className}
      style={{
        backgroundImage: `url("data:image/svg+xml, %3Csvg viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='${size}px' height='${size}px'%3E%3Cpath d='M199.520499-6.919519m220.796183 55.050672l386.39332 96.338675q220.796183 55.050671 165.745512 275.846854l-96.338675 386.39332q-55.050671 220.796183-275.846854 165.745512l-386.393321-96.338675q-220.796183-55.050671-165.745511-275.846854l96.338675-386.393321q55.050671-220.796183 275.846854-165.745511Z' fill='${getIconColor(color,0,'rgb(124,186,252)')}' fill-opacity='.3' /%3E%3Cpath d='M113.777778 113.777778m227.555555 0l341.333334 0q227.555556 0 227.555555 227.555555l0 341.333334q0 227.555556-227.555555 227.555555l-341.333334 0q-227.555556 0-227.555555-227.555555l0-341.333334q0-227.555556 227.555555-227.555555Z' fill='${getIconColor(color,0,'rgb(124,186,252)')}' /%3E%3Cpath d='M286.72 816.924444c10.24 0 18.432-4.778667 25.258667-14.336 4.096-15.018667 9.557333-34.816 15.018666-58.026666a423.822222 423.822222 0 0 1 2.901334-13.824l2.958222-12.572445a10137.6 10137.6 0 0 1 50.801778-197.518222c31.402667-124.245333 51.882667-198.656 61.44-223.914667 9.557333-25.941333 14.336-42.325333 14.336-49.152a43.975111 43.975111 0 0 0-7.509334-16.384c-4.096-5.461333-11.605333-8.192-21.162666-8.192-12.288 0-20.48 4.778667-24.576 13.653334-7.509333 19.797333-20.48 61.44-38.229334 125.610666-19.114667 65.536-37.546667 129.706667-56.661333 192.512-19.114667 66.218667-33.450667 110.592-41.642667 132.437334-9.557333 23.210667-16.384 39.594667-21.162666 50.517333-4.778667 10.922667-6.826667 19.114667-6.826667 25.941333 0 8.192 4.778667 18.432 15.701333 32.085334 10.24 13.653333 19.797333 21.162667 29.354667 21.162666z m357.034667-11.605333c50.517333 0 97.621333-8.874667 141.994666-26.624 20.48-7.509333 31.402667-17.066667 31.402667-28.672a30.208 30.208 0 0 0-7.509333-20.48c-8.192-8.192-19.797333-11.605333-33.450667-11.605333l-5.461333 3.413333a325.176889 325.176889 0 0 1-135.168 29.354667c-24.576 0-36.864-36.864-36.864-109.226667 0-49.152 3.413333-107.861333 10.24-177.493333a1642.382222 1642.382222 0 0 1 21.162666-169.301334c0.682667-7.509333 2.730667-17.066667 6.826667-27.989333a25.713778 25.713778 0 0 0 2.730667-10.922667c0-8.192-6.826667-15.701333-20.48-22.528a59.164444 59.164444 0 0 0-24.576-6.144c-16.384 0-24.576 7.509333-24.576 21.162667l-0.170667 2.161778c-0.910222 10.467556-5.632 57.514667-14.165333 141.198222-11.605333 102.4-17.749333 185.685333-17.749334 249.856 0 56.661333 8.874667 97.621333 26.624 124.928 17.749333 25.941333 43.690667 38.912 79.189334 38.912z' fill='${getIconColor(color,0,'rgb(255,255,255)')}' /%3E%3C/svg%3E")`,
        width: `${size}px`,
        height: `${size}px`,
        ...style,
      }}
    />
  );
};

export default IconFont;