import Taro from '@tarojs/taro';
import React from 'react';
import { View } from '@tarojs/components'

import { getIconColor } from '../utils';

export interface IconFontProps {
  className?: string;
  style?: React.CSSProperties;
  size?: number;
  color?: string;
}

const IconFont: React.FC<IconFontProps> = props => {
  const { size: _size = 28, color, style, className } = props;
  const size =
    (parseFloat(Taro.pxTransform(_size)) / 750) *
    Taro.getSystemInfoSync().windowWidth;

  return (
    <View
      className={className}
      style={{
        backgroundImage: `url("data:image/svg+xml, %3Csvg viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='${size}px' height='${size}px'%3E%3Cpath d='M199.520499-6.919519m220.796183 55.050672l386.39332 96.338675q220.796183 55.050671 165.745512 275.846854l-96.338675 386.39332q-55.050671 220.796183-275.846854 165.745512l-386.393321-96.338675q-220.796183-55.050671-165.745511-275.846854l96.338675-386.393321q55.050671-220.796183 275.846854-165.745511Z' fill='${getIconColor(color,0,'rgb(237,97,86)')}' fill-opacity='.3' /%3E%3Cpath d='M113.777778 113.777778m227.555555 0l341.333334 0q227.555556 0 227.555555 227.555555l0 341.333334q0 227.555556-227.555555 227.555555l-341.333334 0q-227.555556 0-227.555555-227.555555l0-341.333334q0-227.555556 227.555555-227.555555Z' fill='${getIconColor(color,0,'rgb(237,97,86)')}' /%3E%3Cpath d='M694.272 829.895111c5.461333 0 13.653333-3.413333 25.258667-8.874667 10.922667-6.826667 17.749333-12.288 19.114666-15.018666 1.365333-4.778667 3.413333-12.288 4.778667-21.845334 2.730667-9.557333 6.826667-35.498667 13.653333-78.506666 6.826667-42.325333 10.922667-79.189333 10.922667-111.957334 0-17.749333-4.096-31.402667-11.605333-40.96a125.155556 125.155556 0 0 0-31.402667-23.210666c-12.970667-5.461333-32.768-8.874667-60.074667-8.874667-72.362667 0-144.725333 6.826667-218.453333 19.114667-17.749333 2.730667-32.768 5.461333-46.421333 8.192 15.018667-19.114667 31.402667-36.181333 47.786666-51.882667 21.845333-17.066667 35.498667-26.624 40.96-28.672a29.752889 29.752889 0 0 0 6.826667-10.922667l34.816-2.730666c54.613333-3.413333 94.208-5.461333 118.101333-5.461334 7.509333 0 15.701333 1.365333 23.893334 2.730667 8.874667 1.365333 17.066667 2.048 24.576 2.048 12.288 0 19.114667-6.826667 19.114666-19.797333 0-4.096-3.413333-8.874667-10.24-15.018667 2.730667-12.288 5.461333-33.450667 8.874667-63.488 2.730667-29.354667 4.778667-61.44 4.778667-96.256 0-10.922667-4.778667-19.797333-12.970667-27.989333-8.192-8.192-19.114667-14.336-34.133333-19.797334a128.568889 128.568889 0 0 0-42.325334-7.509333c-80.554667 0-169.301333 6.826667-266.24 20.48-2.730667-2.048-5.461333-4.096-9.557333-6.826667a68.835556 68.835556 0 0 0-27.989333-7.509333 42.097778 42.097778 0 0 0-18.432 3.413333c-5.461333 3.413333-7.509333 6.826667-7.509334 10.24 0 4.096 0 7.509333 1.365334 10.24 1.365333 3.413333 2.048 8.192 2.048 14.336 0 95.573333 3.413333 169.301333 10.922666 221.184 1.365333 5.461333 4.096 10.24 8.192 13.653334 5.461333 6.826667 14.336 10.24 25.258667 10.24 6.826667 0 13.653333-2.730667 20.48-8.192 2.730667-2.730667 5.461333-5.461333 7.509333-9.557334l17.066667-4.778666c6.144-1.365333 12.970667-2.048 21.162667-3.413334-13.653333 12.288-29.354667 28.672-47.786667 49.152-31.402667 34.133333-56.661333 64.853333-75.776 90.794667-19.114667 25.941333-30.72 40.277333-34.816 43.008-6.826667 6.144-12.288 10.922667-17.066667 14.336 12.970667 27.306667 26.624 40.96 40.96 40.96 5.461333 0 11.605333-2.730667 18.432-8.192 6.826667-5.461333 17.749333-21.845333 32.768-48.469333 8.192-12.970667 17.066667-26.624 26.624-41.642667 4.096 4.096 8.192 6.144 12.970667 6.144 2.048 0 4.778667 0 8.192-0.682667 4.096-1.365333 15.018667-4.778667 33.450667-10.24a372.622222 372.622222 0 0 1 36.864-8.874666c-2.730667 3.413333-5.461333 7.509333-8.192 12.288l-47.104 67.584c-15.701333 23.210667-27.306667 38.912-34.133334 47.104l-17.066666 17.066666c-4.096 4.096-5.461333 6.826667-5.461334 9.557334 0 6.826667 4.096 15.701333 12.970667 27.989333 8.874667 11.605333 17.066667 17.749333 25.258667 17.749333a25.372444 25.372444 0 0 0 21.845333-12.288c4.096-5.461333 8.192-12.970667 12.970667-21.845333 3.413333-9.557333 19.114667-37.546667 47.786666-84.650667 25.941333-46.421333 43.008-74.410667 51.2-84.650666l7.509334-8.874667c22.528-3.413333 47.104-6.144 73.728-8.192l-16.384 31.402667c-14.336 28.672-29.354667 56.661333-45.056 83.968-15.018667 27.989333-25.258667 47.104-32.085334 57.344-6.826667 9.557333-12.288 17.066667-16.384 21.845333-4.096 4.778667-5.461333 8.874667-5.461333 11.605333 0 6.826667 4.096 16.384 13.653333 28.672 9.557333 12.288 17.749333 18.432 25.941334 18.432 8.874667 0 16.384-4.778667 22.528-12.970666 3.413333-6.826667 7.509333-15.701333 12.288-26.624 3.413333-10.922667 18.432-45.056 44.373333-101.717334 25.258667-56.661333 41.642667-90.794667 48.469333-103.082666 2.048-3.413333 4.096-7.509333 6.826667-11.605334h19.797333c23.210667 0 34.816 11.605333 34.816 34.133334-0.682667 40.277333-8.874667 92.842667-23.893333 157.696a86.300444 86.300444 0 0 1-11.605333 19.114666c-5.461333 2.730667-7.509333 4.778667-7.509334 6.826667 12.288 27.306667 23.893333 41.642667 33.450667 43.008zM384.967111 330.126222l-17.692444 0.056889c-0.682667-15.701333-0.682667-34.133333-0.682667-55.296 9.557333-2.048 16.384-3.413333 19.797333-4.096 75.093333-13.653333 152.234667-21.162667 230.058667-21.162667 24.576 0 36.864 4.778667 38.229333 14.336 0 12.970667-0.682667 25.941333-1.365333 39.594667l-4.778667-0.682667a14.677333 14.677333 0 0 0-6.826666 1.365334c-1.365333 1.365333-6.826667 2.048-15.018667 2.730666-66.218667 5.461333-122.197333 10.24-167.936 15.701334-42.837333 5.063111-67.128889 7.168-73.784889 7.452444z m-12.231111 96.995556a329.272889 329.272889 0 0 1-3.413333-35.498667c-0.682667-4.096-0.682667-8.874667-0.682667-15.018667 6.144 0 16.384-1.365333 30.037333-4.096A2009.998222 2009.998222 0 0 1 515.413333 356.124444a1105.464889 1105.464889 0 0 1 98.986667-6.144c6.826667 0 18.432 0.682667 33.450667 1.365334-1.365333 6.826667-2.048 13.653333-3.413334 21.162666a143.36 143.36 0 0 0-4.096 25.941334v2.730666c-4.096 1.365333-6.826667 1.365333-9.557333 1.365334-12.970667 1.365333-43.690667 4.096-92.842667 7.509333-30.037333 2.730667-62.122667 5.461333-94.890666 8.192-21.845333 2.730667-45.056 5.461333-70.314667 8.874667z' fill='${getIconColor(color,0,'rgb(255,255,255)')}' /%3E%3C/svg%3E")`,
        width: `${size}px`,
        height: `${size}px`,
        ...style,
      }}
    />
  );
};

export default IconFont;