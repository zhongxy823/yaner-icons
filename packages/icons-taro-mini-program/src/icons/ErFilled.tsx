import Taro from '@tarojs/taro';
import React from 'react';
import { View } from '@tarojs/components'

import { getIconColor } from '../utils';

export interface IconFontProps {
  className?: string;
  style?: React.CSSProperties;
  size?: number;
  color?: string;
}

const IconFont: React.FC<IconFontProps> = props => {
  const { size: _size = 28, color, style, className } = props;
  const size =
    (parseFloat(Taro.pxTransform(_size)) / 750) *
    Taro.getSystemInfoSync().windowWidth;

  return (
    <View
      className={className}
      style={{
        backgroundImage: `url("data:image/svg+xml, %3Csvg viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='${size}px' height='${size}px'%3E%3Cpath d='M512 56.888889a455.111111 455.111111 0 1 1 0 910.222222A455.111111 455.111111 0 0 1 512 56.888889zM417.223111 170.097778c-14.336 0-23.893333 5.575111-28.672 15.928889-8.760889 23.096889-23.893333 71.68-44.600889 146.545777-22.300444 76.458667-43.804444 151.324444-66.104889 224.597334-22.300444 77.255111-39.025778 129.024-48.583111 154.510222a3316.053333 3316.053333 0 0 1-24.689778 58.936889c-5.575111 12.743111-7.964444 22.300444-7.964444 30.264889 0 9.557333 5.575111 21.504 18.318222 37.432889 11.946667 15.928889 23.096889 24.689778 34.247111 24.689777 11.946667 0 21.504-5.575111 29.468445-16.725333 4.778667-17.521778 11.150222-40.618667 17.521778-67.697778 5.575111-29.468444 27.875556-116.280889 66.104888-261.233777 36.636444-144.952889 60.529778-231.765333 71.68-261.233778 11.150222-30.264889 16.725333-49.379556 16.725334-57.344a51.313778 51.313778 0 0 0-8.760889-19.114667c-4.778667-6.371556-13.539556-9.557333-24.689778-9.557333z m191.146667 4.778666c-19.114667 0-28.672 8.760889-28.672 24.689778 0 2.389333-5.575111 58.140444-16.725334 167.253334-13.539556 119.466667-20.707556 216.632889-20.707555 291.498666 0 66.104889 10.353778 113.891556 31.061333 145.749334 20.707556 30.264889 50.972444 45.397333 92.387556 45.397333a440.888889 440.888889 0 0 0 165.660444-31.061333c23.893333-8.760889 36.636444-19.911111 36.636445-33.450667a35.271111 35.271111 0 0 0-8.760889-23.893333c-9.557333-9.557333-23.096889-13.539556-39.025778-13.539556l-6.371556 3.982222a379.392 379.392 0 0 1-157.696 34.247111c-28.672 0-43.008-43.008-43.008-127.431111 0-57.344 3.982222-125.838222 11.946667-207.075555 6.371556-80.440889 15.132444-146.545778 24.689778-197.518223 0.796444-8.760889 3.185778-19.911111 7.964444-32.654222a29.980444 29.980444 0 0 0 3.185778-12.743111c0-9.557333-7.964444-18.318222-23.893333-26.282667a69.006222 69.006222 0 0 0-28.672-7.168z' fill='${getIconColor(color,0,'rgb(51,51,51)')}' /%3E%3C/svg%3E")`,
        width: `${size}px`,
        height: `${size}px`,
        ...style,
      }}
    />
  );
};

export default IconFont;