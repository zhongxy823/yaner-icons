import Taro from '@tarojs/taro';
import React from 'react';
import { View } from '@tarojs/components'

import { getIconColor } from '../utils';

export interface IconFontProps {
  className?: string;
  style?: React.CSSProperties;
  size?: number;
  color?: string;
}

const IconFont: React.FC<IconFontProps> = props => {
  const { size: _size = 28, color, style, className } = props;
  const size =
    (parseFloat(Taro.pxTransform(_size)) / 750) *
    Taro.getSystemInfoSync().windowWidth;

  return (
    <View
      className={className}
      style={{
        backgroundImage: `url("data:image/svg+xml, %3Csvg viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='${size}px' height='${size}px'%3E%3Cpath d='M199.520499-6.919519m220.796183 55.050672l386.39332 96.338675q220.796183 55.050671 165.745512 275.846854l-96.338675 386.39332q-55.050671 220.796183-275.846854 165.745512l-386.393321-96.338675q-220.796183-55.050671-165.745511-275.846854l96.338675-386.393321q55.050671-220.796183 275.846854-165.745511Z' fill='${getIconColor(color,0,'rgb(92,202,164)')}' fill-opacity='.3' /%3E%3Cpath d='M113.777778 113.777778m227.555555 0l341.333334 0q227.555556 0 227.555555 227.555555l0 341.333334q0 227.555556-227.555555 227.555555l-341.333334 0q-227.555556 0-227.555555-227.555555l0-341.333334q0-227.555556 227.555555-227.555555Z' fill='${getIconColor(color,0,'rgb(92,202,164)')}' /%3E%3Cpath d='M461.255111 227.783111c39.822222-42.211556 48.014222-38.456889 57.344-36.124444 20.935111 59.619556 25.031111 135.452444 29.127111 244.792889 4.096 108.657778 6.144 204.231111 6.144 286.947555 0 34.929778-6.826667 61.041778-19.797333 78.506667-13.482667 18.204444-33.564444 27.534222-60.302222 27.534222-22.812444 0-39.651556-5.404444-50.517334-14.108444-12.743111-9.557333-17.976889-20.821333-17.976889-31.857778 72.078222-14.506667 73.728-30.72 73.728-55.296l-0.056888-19.911111c-0.568889-108.088889-5.973333-248.775111-14.961778-421.489778-1.991111-35.84-2.730667-48.924444-2.730667-58.993778zM365.966222 384.910222c34.816 46.648889 23.608889 54.328889 15.985778 64.170667a455.907556 455.907556 0 0 0-75.605333 136.419555c-8.590222 22.528-13.255111 42.382222-13.937778 60.984889-37.376 23.608889-50.119111 16.042667-57.856 6.826667-12.458667-40.391111-6.257778-62.407111 6.826667-95.573333 28.16-56.376889 55.637333-101.774222 82.488888-136.874667 15.928889-20.252444 30.549333-31.573333 42.097778-35.953778z m297.301334 4.380445c9.557333 0.284444 15.416889 4.209778 21.617777 9.557333 11.832889 9.671111 29.240889 30.492444 52.906667 62.577778 23.495111 33.052444 43.52 72.362667 61.610667 118.328889 5.688889 18.432 8.419556 33.336889 8.419555 44.657777a41.472 41.472 0 0 1-13.255111 31.288889 37.034667 37.034667 0 0 1-27.249778 11.946667h-0.796444a51.484444 51.484444 0 0 1-18.773333-6.485333c-5.688889-3.697778-7.964444-8.305778-7.964445-13.539556 0-7.281778-3.413333-21.048889-8.533333-40.391111-20.992-58.823111-45.283556-106.837333-72.248889-144.554667a123.960889 123.960889 0 0 0-20.024889-20.764444c-2.616889-1.934222-5.859556-3.868444-9.272889-5.973333-8.021333-17.806222-7.964444-18.545778-7.964444-19.342223l1.479111-1.536c23.210667-24.974222 32.881778-25.998222 40.049778-25.770666z' fill='${getIconColor(color,0,'rgb(255,255,255)')}' /%3E%3C/svg%3E")`,
        width: `${size}px`,
        height: `${size}px`,
        ...style,
      }}
    />
  );
};

export default IconFont;