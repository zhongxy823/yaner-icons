import Taro from '@tarojs/taro';
import React from 'react';
import { View } from '@tarojs/components'

import { getIconColor } from '../utils';

export interface IconFontProps {
  className?: string;
  style?: React.CSSProperties;
  size?: number;
  color?: string;
}

const IconFont: React.FC<IconFontProps> = props => {
  const { size: _size = 28, color, style, className } = props;
  const size =
    (parseFloat(Taro.pxTransform(_size)) / 750) *
    Taro.getSystemInfoSync().windowWidth;

  return (
    <View
      className={className}
      style={{
        backgroundImage: `url("data:image/svg+xml, %3Csvg viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='${size}px' height='${size}px'%3E%3Cpath d='M199.520499-6.919519m220.796183 55.050672l386.39332 96.338675q220.796183 55.050671 165.745512 275.846854l-96.338675 386.39332q-55.050671 220.796183-275.846854 165.745512l-386.393321-96.338675q-220.796183-55.050671-165.745511-275.846854l96.338675-386.393321q55.050671-220.796183 275.846854-165.745511Z' fill='${getIconColor(color,0,'rgb(229,168,117)')}' fill-opacity='.3' /%3E%3Cpath d='M113.777778 113.777778m227.555555 0l341.333334 0q227.555556 0 227.555555 227.555555l0 341.333334q0 227.555556-227.555555 227.555555l-341.333334 0q-227.555556 0-227.555555-227.555555l0-341.333334q0-227.555556 227.555555-227.555555Z' fill='${getIconColor(color,0,'rgb(229,168,117)')}' /%3E%3Cpath d='M332.458667 557.511111a34.816 34.816 0 0 0 21.845333-8.192c1.365333-1.365333 2.730667-2.730667 4.096-4.778667 0 0 1.365333 0 2.730667-0.682666l21.162666-4.778667a1478.883556 1478.883556 0 0 1 144.042667-14.336 3024.213333 3024.213333 0 0 1 124.928-4.096c9.557333 0 19.114667 1.365333 28.672 2.730667 10.922667 2.048 20.48 2.730667 30.037333 2.730666 15.018667-0.682667 23.210667-8.874667 23.210667-24.576 0-2.730667-2.730667-7.509333-8.192-13.653333 2.048-16.384 4.096-39.594667 6.826667-69.632 2.730667-38.912 4.778667-81.237333 4.778666-126.976a41.699556 41.699556 0 0 0-12.288-30.72 83.057778 83.057778 0 0 0-34.133333-22.528 127.886222 127.886222 0 0 0-43.690667-8.874667c-91.477333 0-191.829333 8.192-302.421333 23.210667-2.048-2.048-5.461333-4.096-9.557333-6.826667a74.752 74.752 0 0 0-30.037334-7.509333 47.900444 47.900444 0 0 0-19.114666 3.413333c-5.461333 3.413333-7.509333 6.826667-7.509334 10.922667 0 4.096 0 7.509333 1.365334 10.922667a41.528889 41.528889 0 0 1 2.048 15.018666c0 109.226667 5.461333 194.56 16.384 254.634667 0.682667 6.144 3.413333 10.922667 8.192 14.336 6.826667 6.826667 15.701333 10.24 26.624 10.24z m23.893333-72.362667a958.862222 958.862222 0 0 1-4.096-41.642666c-2.730667-21.845333-4.096-66.218667-4.096-133.12l2.048-0.682667c10.922667-2.730667 18.432-4.096 22.528-5.461333a1569.564444 1569.564444 0 0 1 260.778667-23.210667c23.893333 0 36.181333 5.461333 37.546666 15.701333 0 48.469333-3.413333 98.304-8.874666 148.821334a65.422222 65.422222 0 0 0-2.048 15.018666l-30.72 4.778667c-13.653333 1.365333-45.738667 3.413333-97.621334 5.461333-32.085333 2.730667-65.536 4.778667-100.352 7.509334-23.210667 2.048-47.786667 4.096-75.093333 6.826666z m391.850667 320.170667a56.888889 56.888889 0 0 0 21.845333-4.778667 41.756444 41.756444 0 0 0 14.336-19.114666c2.730667-8.192 4.778667-17.749333 4.778667-30.037334 0-2.730667-2.048-4.778667-5.461334-6.144l-8.192-7.509333a1467.448889 1467.448889 0 0 1-36.864-40.96c-21.845333-23.210667-39.594667-41.642667-53.930666-56.661333-15.018667-13.653333-25.258667-23.210667-29.354667-28.672-6.826667-5.461333-11.605333-8.874667-15.701333-8.874667-8.192 0-15.701333 4.778667-22.528 14.336-6.826667 10.922667-9.557333 19.114667-9.557334 24.576 0 6.144 2.048 12.288 7.509334 17.749333 2.730667 4.778667 6.826667 9.557333 12.970666 13.653334l19.114667 17.066666c21.845333 21.845333 41.642667 43.008 58.026667 63.488 15.701333 19.797333 25.941333 33.450667 30.037333 40.277334 4.778667 7.509333 8.874667 11.605333 12.970667 11.605333z m-443.050667 6.826667c1.365333-10.922667 6.144-22.528 13.653333-35.498667a525.653333 525.653333 0 0 1 74.410667-106.496c4.096-3.413333 7.509333-6.144 11.605333-8.874667a21.617778 21.617778 0 0 0 7.509334-17.749333c0-6.826667-3.413333-14.336-10.24-21.162667-6.144-7.509333-15.701333-11.605333-27.989334-11.605333-5.461333 0-11.605333 4.096-18.432 10.922667-6.826667 7.509333-12.288 13.653333-17.749333 18.432-19.797333 20.48-43.690667 50.517333-72.362667 90.112-11.605333 15.701333-17.749333 26.624-17.749333 32.768 0 27.306667 19.114667 43.690667 57.344 49.152z' fill='${getIconColor(color,0,'rgb(255,255,255)')}' /%3E%3C/svg%3E")`,
        width: `${size}px`,
        height: `${size}px`,
        ...style,
      }}
    />
  );
};

export default IconFont;